// thanks for cahirc there is no need for fancy dependency injection frameworks,
// instead a regular function with compile time changes would be enough
function WMH_getContractManager(): WMH_ContractManager {
  #ifdef DEBUG {
    return new WMH_ContractManagerDebug in thePlayer;
  };

  #ifndef DEBUG {
    return thePlayer.wmh.contract;
  }
}